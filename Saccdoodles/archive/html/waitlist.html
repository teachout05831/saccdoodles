<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Our Waitlist - SACC Doodles</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .waitlist-info {
            background: linear-gradient(135deg, rgba(186, 155, 121, 0.15) 0%, rgba(186, 155, 121, 0.05) 100%);
            border: 1px solid rgba(186, 155, 121, 0.3);
            padding: 3rem 2rem;
            border-radius: 1rem;
            margin-bottom: 3rem;
        }

        .waitlist-info h2 {
            color: var(--accent-gold);
            margin-bottom: 1.5rem;
        }

        .waitlist-info ul {
            list-style: none;
            padding: 0;
        }

        .waitlist-info li {
            padding: 0.75rem 0;
            padding-left: 2rem;
            position: relative;
            color: var(--text-secondary);
        }

        .waitlist-info li::before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: var(--accent-gold);
            font-weight: bold;
        }

        .deposit-notice {
            background: rgba(186, 155, 121, 0.2);
            border: 1px solid var(--accent-gold);
            color: var(--text-primary);
            padding: 1.5rem;
            border-radius: 0.75rem;
            margin-top: 1.5rem;
        }

        .deposit-notice h4 {
            margin-bottom: 0.5rem;
            color: var(--accent-gold);
        }

        .waitlist-form-container {
            background: var(--bg-card);
            padding: 2.5rem;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .waitlist-form-container h3 {
            margin-bottom: 1.5rem;
            color: var(--accent-gold);
        }

        .form-section {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .form-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .form-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-gold);
            margin-bottom: 1rem;
        }

        .preference-type {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .preference-type label {
            flex: 1;
            padding: 1rem;
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
            color: var(--text-secondary);
            background: var(--bg-secondary);
        }

        .preference-type input[type="radio"] {
            display: none;
        }

        .preference-type input[type="radio"]:checked + label {
            border-color: var(--accent-gold);
            background: rgba(186, 155, 121, 0.15);
            color: var(--accent-gold);
        }

        .preference-type label:hover {
            border-color: var(--accent-gold);
        }

        .parent-selection {
            display: none;
        }

        .parent-selection.active {
            display: block;
        }

        .parent-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .parent-card {
            border: 2px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            background: var(--bg-secondary);
        }

        .parent-card:hover {
            border-color: var(--accent-gold);
        }

        .parent-card.selected {
            border-color: var(--accent-gold);
            background: rgba(186, 155, 121, 0.15);
        }

        .parent-card img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .parent-card h4 {
            font-size: 1rem;
            margin-bottom: 0.25rem;
            color: var(--text-primary);
        }

        .parent-card p {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .breed-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .breed-option {
            padding: 1rem;
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
            background: var(--bg-secondary);
            color: var(--text-secondary);
        }

        .breed-option:hover {
            border-color: var(--accent-gold);
        }

        .breed-option.selected {
            border-color: var(--accent-gold);
            background: rgba(186, 155, 121, 0.15);
            color: var(--accent-gold);
        }

        .breed-option input[type="checkbox"] {
            display: none;
        }

        .breed-option label {
            cursor: pointer;
            color: inherit;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        @media (max-width: 600px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .preference-type {
                flex-direction: column;
            }
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .checkbox-group input[type="checkbox"] {
            margin-top: 0.25rem;
        }

        .checkbox-group label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .success-message {
            display: none;
            text-align: center;
            padding: 3rem;
        }

        .success-message.show {
            display: block;
        }

        .success-message svg {
            width: 80px;
            height: 80px;
            color: #5dae5e;
            margin-bottom: 1.5rem;
        }

        .success-message h2 {
            color: var(--accent-gold);
            margin-bottom: 1rem;
        }

        .success-message p {
            color: var(--text-secondary);
        }

        .waitlist-number {
            font-size: 3rem;
            font-weight: 700;
            color: var(--accent-gold);
            margin: 1.5rem 0;
        }

        .waitlist-number span {
            font-size: 1rem;
            display: block;
            color: var(--text-muted);
            font-weight: 400;
        }

        #waitlistForm.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <a href="index.html" class="logo">
                    <span class="logo-text">SACC Doodles</span>
                </a>
                <button class="mobile-menu-btn" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="our-dogs.html">Our Dogs</a></li>
                    <li><a href="available-puppies.html">Available Puppies</a></li>
                    <li><a href="waitlist.html" class="active">Waitlist</a></li>
                    <li><a href="guardian-home.html">Guardian Homes</a></li>
                    <li><a href="puppy-resources.html">Puppy Resources</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
                <a href="admin.html" class="admin-link" title="Admin Dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z"/>
                    </svg>
                </a>
            </div>
        </nav>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>
                <span class="script-font">Join Our</span>
                Waitlist
            </h1>
            <p>Reserve your spot for an upcoming puppy from SACC Doodles</p>
        </div>
    </section>

    <!-- Waitlist Content -->
    <section class="section">
        <div class="container">
            <div class="contact-grid">
                <div class="waitlist-info">
                    <h2>How Our Waitlist Works</h2>
                    <ul>
                        <li>Choose to be waitlisted for specific parents OR a breed type</li>
                        <li>Your position is secured with a $300 deposit</li>
                        <li>You'll receive your waitlist number upon submission</li>
                        <li>When puppies are available, we contact families in order</li>
                        <li>You get first pick based on your waitlist position</li>
                    </ul>

                    <div class="deposit-notice">
                        <h4>Deposit Information</h4>
                        <p><strong>$300 Non-Refundable Deposit</strong></p>
                        <p style="margin-top: 0.5rem; font-size: 0.9rem;">Your deposit can be transferred to any litter and never expires. This gives you flexibility while securing your place in line.</p>
                    </div>
                </div>

                <div class="waitlist-form-container">
                    <!-- Success Message -->
                    <div class="success-message" id="successMessage">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                        <h2>You're on the Waitlist!</h2>
                        <p>Thank you for your application. We've received your information and will be in touch soon about the deposit process.</p>
                        <div class="waitlist-number">
                            #<span id="waitlistPosition">--</span>
                            <span>Your Waitlist Position</span>
                        </div>
                        <p style="color: var(--text-muted); margin-top: 1.5rem;">We'll contact you via email with next steps for submitting your $300 deposit.</p>
                        <a href="index.html" class="btn btn-primary" style="margin-top: 2rem;">Return to Home</a>
                    </div>

                    <!-- Waitlist Form -->
                    <form id="waitlistForm">
                        <h3>Puppy Application</h3>

                        <!-- Personal Information -->
                        <div class="form-section">
                            <div class="form-section-title">Your Information</div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="firstName">First Name *</label>
                                    <input type="text" id="firstName" name="firstName" required>
                                </div>
                                <div class="form-group">
                                    <label for="lastName">Last Name *</label>
                                    <input type="text" id="lastName" name="lastName" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number *</label>
                                <input type="tel" id="phone" name="phone" required>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="city">City *</label>
                                    <input type="text" id="city" name="city" required>
                                </div>
                                <div class="form-group">
                                    <label for="state">State *</label>
                                    <input type="text" id="state" name="state" required>
                                </div>
                            </div>
                        </div>

                        <!-- Preference Type -->
                        <div class="form-section">
                            <div class="form-section-title">What would you like to be waitlisted for?</div>
                            <div class="preference-type">
                                <input type="radio" id="prefParents" name="preferenceType" value="parents">
                                <label for="prefParents">
                                    <strong>Specific Parents</strong><br>
                                    <small>I want puppies from specific dogs</small>
                                </label>
                                <input type="radio" id="prefBreed" name="preferenceType" value="breed">
                                <label for="prefBreed">
                                    <strong>Breed Type</strong><br>
                                    <small>Any puppies of a certain breed</small>
                                </label>
                            </div>

                            <!-- Parent Selection (shown when "Specific Parents" is selected) -->
                            <div class="parent-selection" id="parentSelection">
                                <p style="margin-bottom: 1rem; color: var(--text-secondary);">Select the parent(s) you're interested in:</p>
                                <div class="parent-cards" id="parentCards">
                                    <!-- Parents will be loaded dynamically -->
                                </div>
                            </div>

                            <!-- Breed Selection (shown when "Breed Type" is selected) -->
                            <div class="parent-selection" id="breedSelection">
                                <p style="margin-bottom: 1rem; color: var(--text-secondary);">Select the breed(s) you're interested in:</p>
                                <div class="breed-options" id="breedOptions">
                                    <div class="breed-option" data-breed="goldendoodle">
                                        <input type="checkbox" id="breedGoldendoodle" name="breeds" value="goldendoodle">
                                        <label for="breedGoldendoodle">Goldendoodle</label>
                                    </div>
                                    <div class="breed-option" data-breed="bernedoodle">
                                        <input type="checkbox" id="breedBernedoodle" name="breeds" value="bernedoodle">
                                        <label for="breedBernedoodle">Bernedoodle</label>
                                    </div>
                                    <div class="breed-option" data-breed="aussiedoodle">
                                        <input type="checkbox" id="breedAussiedoodle" name="breeds" value="aussiedoodle">
                                        <label for="breedAussiedoodle">Aussiedoodle</label>
                                    </div>
                                    <div class="breed-option" data-breed="labradoodle">
                                        <input type="checkbox" id="breedLabradoodle" name="breeds" value="labradoodle">
                                        <label for="breedLabradoodle">Labradoodle</label>
                                    </div>
                                    <div class="breed-option" data-breed="sheepadoodle">
                                        <input type="checkbox" id="breedSheepadoodle" name="breeds" value="sheepadoodle">
                                        <label for="breedSheepadoodle">Sheepadoodle</label>
                                    </div>
                                    <div class="breed-option" data-breed="any">
                                        <input type="checkbox" id="breedAny" name="breeds" value="any">
                                        <label for="breedAny">Any Breed</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Puppy Preferences -->
                        <div class="form-section">
                            <div class="form-section-title">Puppy Preferences</div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="genderPref">Gender Preference</label>
                                    <select id="genderPref" name="genderPref">
                                        <option value="any">No Preference</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="colorPref">Color Preference</label>
                                    <input type="text" id="colorPref" name="colorPref" placeholder="e.g., Red, Cream, Parti">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="sizePref">Size Preference</label>
                                <select id="sizePref" name="sizePref">
                                    <option value="any">No Preference</option>
                                    <option value="mini">Mini (under 25 lbs)</option>
                                    <option value="medium">Medium (25-50 lbs)</option>
                                    <option value="standard">Standard (50+ lbs)</option>
                                </select>
                            </div>
                        </div>

                        <!-- About You -->
                        <div class="form-section">
                            <div class="form-section-title">Tell Us About Yourself</div>
                            <div class="form-group">
                                <label for="livingsituation">Living Situation *</label>
                                <select id="livingsituation" name="livingsituation" required>
                                    <option value="">Select...</option>
                                    <option value="house-yard">House with Yard</option>
                                    <option value="house-no-yard">House without Yard</option>
                                    <option value="apartment">Apartment/Condo</option>
                                    <option value="farm">Farm/Acreage</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="experience">Dog Ownership Experience *</label>
                                <select id="experience" name="experience" required>
                                    <option value="">Select...</option>
                                    <option value="first-time">First-time Dog Owner</option>
                                    <option value="some">Some Experience</option>
                                    <option value="experienced">Experienced Dog Owner</option>
                                    <option value="breeder">Breeder/Professional</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="otherPets">Other Pets in Home</label>
                                <input type="text" id="otherPets" name="otherPets" placeholder="e.g., 1 cat, 2 dogs">
                            </div>
                            <div class="form-group">
                                <label for="children">Children in Home</label>
                                <input type="text" id="children" name="children" placeholder="e.g., Ages 5 and 8">
                            </div>
                            <div class="form-group">
                                <label for="message">Why do you want a puppy from SACC Doodles?</label>
                                <textarea id="message" name="message" rows="4" placeholder="Tell us about your family and why you'd be a great puppy parent..."></textarea>
                            </div>
                        </div>

                        <!-- Agreement -->
                        <div class="form-section">
                            <div class="checkbox-group">
                                <input type="checkbox" id="depositAgree" name="depositAgree" required>
                                <label for="depositAgree">I understand that a <strong>$300 non-refundable deposit</strong> is required to secure my place on the waitlist. I acknowledge that this deposit can be transferred to any litter and does not expire. *</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="contactAgree" name="contactAgree" required>
                                <label for="contactAgree">I agree to be contacted by SACC Doodles regarding my waitlist application and available puppies. *</label>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Submit Application</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <span class="logo-text">SACC Doodles</span>
                    <p>Breeding quality puppies with love and care.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Instagram">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="TikTok">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="Facebook">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="our-dogs.html">Our Dogs</a></li>
                        <li><a href="available-puppies.html">Available Puppies</a></li>
                        <li><a href="waitlist.html">Waitlist</a></li>
                        <li><a href="guardian-home.html">Guardian Homes</a></li>
                        <li><a href="puppy-resources.html">Puppy Resources</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Contact Us</h4>
                    <p>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                        </svg>
                        480-822-8443
                    </p>
                    <p>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                            <polyline points="22,6 12,13 2,6"/>
                        </svg>
                        mizzteachout@gmail.com
                    </p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SACC Doodles. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/data.js"></script>
    <script>
        // Load parent dogs for selection
        function loadParentDogs() {
            const dogs = DB.dogs.getAll();
            const parentCards = document.getElementById('parentCards');

            if (dogs.length === 0) {
                parentCards.innerHTML = '<p style="color: var(--text-muted);">No dogs available at this time.</p>';
                return;
            }

            parentCards.innerHTML = dogs.map(dog => `
                <div class="parent-card" data-dog-id="${dog.id}">
                    <img src="${dog.photos && dog.photos[0] ? dog.photos[0] : 'images/placeholder-dog.jpg'}" alt="${dog.name}">
                    <h4>${dog.name}</h4>
                    <p>${dog.breed || 'Doodle'}</p>
                </div>
            `).join('');

            // Add click handlers
            document.querySelectorAll('.parent-card').forEach(card => {
                card.addEventListener('click', () => {
                    card.classList.toggle('selected');
                });
            });
        }

        // Handle preference type switching
        document.querySelectorAll('input[name="preferenceType"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                document.getElementById('parentSelection').classList.remove('active');
                document.getElementById('breedSelection').classList.remove('active');

                if (e.target.value === 'parents') {
                    document.getElementById('parentSelection').classList.add('active');
                } else if (e.target.value === 'breed') {
                    document.getElementById('breedSelection').classList.add('active');
                }
            });
        });

        // Handle breed option clicks
        document.querySelectorAll('.breed-option').forEach(option => {
            option.addEventListener('click', () => {
                option.classList.toggle('selected');
                const checkbox = option.querySelector('input[type="checkbox"]');
                checkbox.checked = !checkbox.checked;
            });
        });

        // Handle form submission
        document.getElementById('waitlistForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            // Gather form data
            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                city: document.getElementById('city').value,
                state: document.getElementById('state').value,
                preferenceType: document.querySelector('input[name="preferenceType"]:checked')?.value || '',
                selectedParents: [],
                selectedBreeds: [],
                genderPref: document.getElementById('genderPref').value,
                colorPref: document.getElementById('colorPref').value,
                sizePref: document.getElementById('sizePref').value,
                livingsituation: document.getElementById('livingsituation').value,
                experience: document.getElementById('experience').value,
                otherPets: document.getElementById('otherPets').value,
                children: document.getElementById('children').value,
                message: document.getElementById('message').value,
                depositAgreed: document.getElementById('depositAgree').checked,
                contactAgreed: document.getElementById('contactAgree').checked,
                status: 'pending',
                depositPaid: false,
                depositAmount: 0,
                createdAt: new Date().toISOString()
            };

            // Get selected parents
            if (formData.preferenceType === 'parents') {
                document.querySelectorAll('.parent-card.selected').forEach(card => {
                    formData.selectedParents.push(card.dataset.dogId);
                });
            }

            // Get selected breeds
            if (formData.preferenceType === 'breed') {
                document.querySelectorAll('.breed-option.selected input').forEach(checkbox => {
                    formData.selectedBreeds.push(checkbox.value);
                });
            }

            // Validate preference selection
            if (!formData.preferenceType) {
                alert('Please select whether you want to be waitlisted for specific parents or a breed type.');
                return;
            }

            if (formData.preferenceType === 'parents' && formData.selectedParents.length === 0) {
                alert('Please select at least one parent dog.');
                return;
            }

            if (formData.preferenceType === 'breed' && formData.selectedBreeds.length === 0) {
                alert('Please select at least one breed.');
                return;
            }

            // Save to waitlist
            const savedEntry = DB.waitlist.save(formData);

            // Get position
            const position = DB.waitlist.getPosition(savedEntry.id);

            // Show success message
            document.getElementById('waitlistForm').classList.add('hidden');
            document.getElementById('successMessage').classList.add('show');
            document.getElementById('waitlistPosition').textContent = position;
        });

        // Initialize
        loadParentDogs();
    </script>
    <script src="js/main.js"></script>
</body>
</html>
