<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAQ - SACC Doodles</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <header class="header">
        <nav class="nav">
            <div class="nav-container">
                <a href="index.html" class="logo">
                    <span class="logo-text">SACC Doodles</span>
                </a>
                <button class="mobile-menu-btn" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="our-dogs.html">Our Dogs</a></li>
                    <li><a href="available-puppies.html">Available Puppies</a></li>
                    <li><a href="waitlist.html">Waitlist</a></li>
                    <li><a href="guardian-home.html">Guardian Homes</a></li>
                    <li><a href="puppy-resources.html">Puppy Resources</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
                <a href="admin.html" class="admin-link" title="Admin Dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z"/>
                    </svg>
                </a>
            </div>
        </nav>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>
                <span class="script-font">Frequently Asked</span>
                Questions
            </h1>
            <p>Find answers to common questions about our puppies, process, and program.</p>
        </div>
    </section>

    <!-- FAQ Content -->
    <section class="section faq-section">
        <div class="container">
            <div class="faq-categories" id="faq-categories">
                <button class="faq-category-btn active" data-category="all">All Questions</button>
            </div>
            <div class="faq-accordion" id="faq-accordion">
                <!-- FAQ items loaded dynamically -->
            </div>
            <div class="empty-state" id="faq-empty" style="display: none;">
                <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                <p>FAQ coming soon!</p>
            </div>
        </div>
    </section>

    <!-- Contact CTA -->
    <section class="section cta-section">
        <div class="container">
            <h2>Still Have Questions?</h2>
            <p>We're happy to help! Reach out to us directly.</p>
            <div class="cta-buttons">
                <a href="contact.html" class="btn btn-primary">Contact Us</a>
                <a href="tel:+14808228443" class="btn btn-outline">Call 480-822-8443</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <span class="logo-text">SACC Doodles</span>
                    <p>Breeding quality puppies with love and care.</p>
                    <div class="social-links">
                        <a href="#" aria-label="Instagram">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="TikTok">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="Facebook">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="our-dogs.html">Our Dogs</a></li>
                        <li><a href="available-puppies.html">Available Puppies</a></li>
                        <li><a href="guardian-home.html">Guardian Homes</a></li>
                        <li><a href="puppy-resources.html">Puppy Resources</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Contact Us</h4>
                    <p>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                        </svg>
                        480-822-8443
                    </p>
                    <p>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                            <polyline points="22,6 12,13 2,6"/>
                        </svg>
                        mizzteachout@gmail.com
                    </p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SACC Doodles. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Load FAQ page
        document.addEventListener('DOMContentLoaded', () => {
            loadFaqPage();
        });

        function loadFaqPage() {
            const faqs = DB.faq.getPublic();
            const accordion = document.getElementById('faq-accordion');
            const categoriesContainer = document.getElementById('faq-categories');
            const emptyState = document.getElementById('faq-empty');

            if (faqs.length === 0) {
                accordion.style.display = 'none';
                categoriesContainer.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }

            // Get unique categories
            const categories = [...new Set(faqs.map(f => f.category).filter(Boolean))];

            // Render category buttons
            if (categories.length > 0) {
                categoriesContainer.innerHTML = `
                    <button class="faq-category-btn active" data-category="all">All Questions</button>
                    ${categories.map(cat => `
                        <button class="faq-category-btn" data-category="${cat}">${cat}</button>
                    `).join('')}
                `;

                // Add category filter handlers
                categoriesContainer.querySelectorAll('.faq-category-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        categoriesContainer.querySelectorAll('.faq-category-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        filterFaqs(btn.dataset.category);
                    });
                });
            } else {
                categoriesContainer.style.display = 'none';
            }

            // Render FAQ accordion
            renderFaqAccordion(faqs);
        }

        function renderFaqAccordion(faqs) {
            const accordion = document.getElementById('faq-accordion');

            accordion.innerHTML = faqs.map(faq => `
                <div class="faq-accordion-item" data-category="${faq.category || 'General'}">
                    <div class="faq-accordion-header" onclick="toggleFaq(this)">
                        <h4>${escapeHtml(faq.question)}</h4>
                        <svg class="faq-accordion-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"/>
                        </svg>
                    </div>
                    <div class="faq-accordion-content">
                        <div class="faq-accordion-body">
                            <p>${escapeHtml(faq.answer)}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterFaqs(category) {
            const items = document.querySelectorAll('.faq-accordion-item');
            items.forEach(item => {
                if (category === 'all' || item.dataset.category === category) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function toggleFaq(header) {
            const item = header.parentElement;
            const isActive = item.classList.contains('active');

            // Close all items
            document.querySelectorAll('.faq-accordion-item').forEach(i => i.classList.remove('active'));

            // Open clicked item if it wasn't already open
            if (!isActive) {
                item.classList.add('active');
            }
        }

        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>
</html>
